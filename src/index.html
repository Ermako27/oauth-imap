<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>MailDeal</title>
</head>
<body>
        <hr>
        <a href="#" id="code">сделать запрос за кодом</a>
        <br/>
        <a href="#" id="setcode">сохранить код</a>
        <br/>
        <a href="#" id="token">получить токен</a>
        <br/>
        <div class="mailru-login-button" data-ui="login_as userpic" data-type="login" style="width: 300px; height: 48px;"></div>
        <script src="https://oauth.mail.ru/sdk/v0.14.0/oauth.js"></script>
        <script>
            MR.init({
                clientId: 'd107a66dd260467fa71c9b863b196e7c',
                onlogin: function (state) {
                    if (state.user) {
                        console.info('MR.login:', state);
                    }
                },
                onlogout: function () {
                    console.info('MR.logout');
                }
            });

            var lib = new Lib();

            var getCode = document.getElementById('code');
            getCode.onclick = lib.fetchAccessCode;

            var setcode = document.getElementById('setcode');
            setcode.onclick = lib.getAccesCodeFromUrl;

            var gettoken = document.getElementById('token');
            gettoken.onclick = lib.getToken;
        </script>
    
</body>
</html>